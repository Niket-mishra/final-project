<div class="container py-4">
  <h4 class="text-center fw-bold mb-4">ðŸ“§ Email Notification Manager</h4>

  @if (isLoading) {
    <div class="text-center py-5">
      <div class="spinner-border text-primary" role="status"></div>
      <p class="mt-3">Loading notifications...</p>
    </div>
  } @else {
    @if (notifications.length === 0) {
      <p class="text-muted text-center">No notifications scheduled.</p>
    } @else {
      <table class="table table-bordered table-hover">
        <thead class="table-light">
          <tr>
            <th>Type</th>
            <th>Subject</th>
            <th>Scheduled</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          @for (n of notifications; track n.notificationId) {
            <tr>
              <td>{{ n.notificationType }}</td>
              <td>{{ n.subject }}</td>
              <td>{{ n.scheduledDate ? (n.scheduledDate | date:'medium') : 'â€”' }}</td>
              <td>
                <span class="badge bg-{{ n.isSent ? 'success' : 'warning' }}">
                  {{ n.isSent ? 'Sent' : 'Pending' }}
                </span>
              </td>
              <td>
                <button class="btn btn-sm btn-outline-primary" (click)="triggerNotification(n.notificationId)">
                  Send Now
                </button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    }
  }
</div>