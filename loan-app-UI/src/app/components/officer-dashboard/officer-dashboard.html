<div class="container py-4">
  <h3 class="text-center fw-bold mb-4">üë®‚Äçüíº Officer Dashboard</h3>

  @if (error) {
    <div class="alert alert-danger text-center">{{ error }}</div>
  }

  @if (isLoading) {
    <div class="text-center py-5">
      <div class="spinner-border text-primary" role="status"></div>
      <p class="mt-3">Loading dashboard data...</p>
    </div>
  } @else {
    <!-- Applications -->
    <section class="mb-5">
      <h5 class="mb-3">üìã Assigned Applications</h5>
      @if (assignedApplications.length === 0) {
        <p class="text-muted">No applications assigned.</p>
      } @else {
        <div class="row g-3">
          @for (app of assignedApplications; track app.applicationId) {
            <div class="col-md-6">
              <div class="card shadow-sm border-0">
                <div class="card-body">
                  <h6>Application #{{ app.applicationId }}</h6>
                  <p><strong>Customer:</strong> {{ app.customer?.firstName }} {{ app.customer?.lastName }}</p>
                  <p><strong>Amount:</strong> ‚Çπ{{ app.requestedAmount }}</p>
                  <p><strong>Status:</strong> <span class="badge bg-secondary">{{ app.status }}</span></p>
                </div>
              </div>
            </div>
          }
        </div>
      }
    </section>

    <!-- Documents -->
    <section class="mb-5">
      <h5 class="mb-3">üìÅ Verified Documents</h5>
      @if (verifiedDocuments.length === 0) {
        <p class="text-muted">No documents verified.</p>
      } @else {
        <ul class="list-group">
          @for (doc of verifiedDocuments; track doc.documentId) {
            <li class="list-group-item d-flex justify-content-between align-items-center">
              {{ doc.documentType }} - {{ doc.fileName }}
              <span class="badge bg-success">Verified</span>
            </li>
          }
        </ul>
      }
    </section>

    <!-- Queries -->
    <section>
      <h5 class="mb-3">‚ùì Handled Queries</h5>
      @if (handledQueries.length === 0) {
        <p class="text-muted">No queries handled.</p>
      } @else {
        <ul class="list-group">
          @for (query of handledQueries; track query.queryId) {
            <li class="list-group-item">
              <strong>{{ query.customer?.firstName }}:</strong> {{ query.queryDescription }}
              <br />
              <small class="text-muted">Response: {{ query.officerResponse }}</small>
              <span class="badge float-end bg-{{ getStatusColor(query.queryStatus) }}">{{ query.queryStatus }}</span>
            </li>
          }
        </ul>
      }
    </section>
  }
</div>